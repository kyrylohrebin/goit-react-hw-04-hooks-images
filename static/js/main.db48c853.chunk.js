(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2eTnh",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__8RMzn"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2KwKT",Modal:"Modal_Modal__10mdl"}},28:function(e,t,a){e.exports={App:"App_App__1DKsM"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3SvxP"}},30:function(e,t,a){e.exports={Button:"Button_Button__3Dwdw"}},32:function(e,t,a){e.exports={wrapper:"loader_wrapper__C5QwT"}},38:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__MGKCw",SearchForm:"Searchbar_SearchForm__31MNV",SearchFormButton:"Searchbar_SearchFormButton__2MwAX",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1539x",SearchFormInput:"Searchbar_SearchFormInput__HSvhe"}},79:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(8),l=a.n(o),s=(a(38),a(5)),i=a.n(s),u=a(18),h=a(10),m=a(4),p=a(27),b=a.n(p),j="18662312-a5f7d9a00f5eb78409595edb4";function d(){return(d=Object(h.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(a,"&per_page=12&key=").concat(j));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var f=function(e,t){return d.apply(this,arguments)},O=a(28),v=a.n(O),g=a(11),y=a(12),_=a(14),S=a(13),x=a(6),w=a.n(x),I=function(e){Object(_.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.query;(0,e.props.onSearch)(a)},e}return Object(y.a)(a,[{key:"render",value:function(){return Object(r.jsx)("header",{className:w.a.Searchbar,children:Object(r.jsxs)("form",{className:w.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(r.jsx)("button",{type:"submit",className:w.a.SearchFormButton,children:Object(r.jsx)("span",{className:w.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:w.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(n.Component),k=a(29),C=a.n(k),F=a(16),M=a.n(F);var N=function(e){var t=e.imageSrc,a=e.imageUrl,n=e.handler;return Object(r.jsx)("li",{className:M.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:t,alt:"","data-url":a,className:M.a.ImageGalleryItem_image,onClick:n})})};var G=function(e){var t=e.images,a=e.onImageClick;return Object(r.jsx)("ul",{className:C.a.ImageGallery,children:t.map((function(e){var t=e.webformatURL,n=e.largeImageURL,c=e.id;return Object(r.jsx)(N,{imageSrc:t,imageUrl:n,handler:a},c)}))})},B=a(30),D=a.n(B);var L=function(e){var t=e.onClickHandler;return Object(r.jsx)("button",{className:D.a.Button,onClick:t,children:"Load more..."})},A=a(31),E=a.n(A),K=(a(78),a(32)),T=a.n(K);var q=function(){return Object(r.jsx)("div",{className:T.a.wrapper,children:Object(r.jsx)(E.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})})},H=a(17),U=a.n(H),R=document.querySelector("#modal-root"),z=function(e){Object(_.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handlerKeyDown=function(t){"Escape"===t.code&&e.props.onCloseModal()},e.onOverlayClick=function(t){t.currentTarget===t.target&&e.props.onCloseModal()},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handlerKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handlerKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(r.jsx)("div",{className:U.a.Overlay,onClick:this.onOverlayClick,children:Object(r.jsx)("div",{className:U.a.Modal,children:this.props.children})}),R)}}]),a}(n.Component);var J=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),l=Object(m.a)(o,2),s=l[0],p=l[1],b=Object(n.useState)([]),j=Object(m.a)(b,2),d=j[0],O=j[1],g=Object(n.useState)(0),y=Object(m.a)(g,2),_=y[0],S=y[1],x=Object(n.useState)(""),w=Object(m.a)(x,2),k=w[0],C=w[1],F=Object(n.useState)(!1),M=Object(m.a)(F,2),N=M[0],B=M[1],D=Object(n.useState)(0),A=Object(m.a)(D,2),E=A[0],K=A[1];return Object(n.useEffect)((function(){if(a){(function(){var e=Object(h.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(a,s);case 3:t=e.sent,O((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.hits))})),window.scrollTo({top:E,behavior:"smooth"}),K(document.documentElement.scrollHeight-170),S(Math.ceil(t.totalHits/12)),B(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}}),[s,a]),Object(r.jsxs)("div",{className:v.a.App,children:[Object(r.jsx)(I,{onSearch:function(e){p(1),S(0),c(e),B(!0),O([]),K(0)}}),d.length>0&&Object(r.jsx)(G,{images:d,onImageClick:function(e){var t=e.target;return C(t.dataset.url)}}),N&&Object(r.jsx)(q,{}),s<_&&Object(r.jsx)(L,{onClickHandler:function(){p((function(e){return e+1}))}}),k&&Object(r.jsx)(z,{onCloseModal:function(){return C("")},children:Object(r.jsx)("img",{src:k,alt:""})})]})};l.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.db48c853.chunk.js.map