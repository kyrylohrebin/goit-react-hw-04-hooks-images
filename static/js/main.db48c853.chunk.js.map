{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/loader.module.css","Components/Searchbar/Searchbar.module.css","service/Api.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","key","query","page","a","Axios","get","response","data","Error","api","SearchBar","state","handleChange","event","setState","target","value","handleSubmit","preventDefault","onSearch","props","className","styles","Searchbar","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageSrc","imageUrl","handler","src","alt","data-url","ImageGalleryItem_image","onClick","ImageGallery","images","onImageClick","map","image","webformatURL","largeImageURL","id","Button","onClickHandler","SpinLoader","wrapper","color","height","width","timeout","modalRoot","document","querySelector","Modal","handlerKeyDown","code","onCloseModal","onOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","useState","setQuery","pageNumber","setPage","setImages","totalPages","setTotalPages","modalSrc","setModalSrc","isLoading","setLoading","newPageCords","setNewPageCords","useEffect","prevImages","hits","scrollTo","top","behavior","documentElement","scrollHeight","Math","ceil","totalHits","fetchData","newQuery","length","dataset","url","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.db48c853.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2eTnh\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__8RMzn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2KwKT\",\"Modal\":\"Modal_Modal__10mdl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1DKsM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3SvxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Dwdw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"loader_wrapper__C5QwT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__MGKCw\",\"SearchForm\":\"Searchbar_SearchForm__31MNV\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2MwAX\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1539x\",\"SearchFormInput\":\"Searchbar_SearchFormInput__HSvhe\"};","import Axios from 'axios';\n\nconst key = '18662312-a5f7d9a00f5eb78409595edb4';\n\nasync function api(query, page) {\n  try {\n    const response = await Axios.get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${key}`,\n    );\n    const { data } = response;\n    return data;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nexport default api;\n","import React, { Component } from 'react';\n\nimport styles from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    this.setState({\n      query: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { query } = this.state;\n    const { onSearch } = this.props;\n    onSearch(query);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import styles from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ imageSrc, imageUrl, handler }) {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={imageSrc}\n        alt=\"\"\n        data-url={imageUrl}\n        className={styles.ImageGalleryItem_image}\n        onClick={handler}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import styles from './ImageGallery.module.css';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nfunction ImageGallery({ images, onImageClick }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => {\n        const { webformatURL, largeImageURL, id } = image;\n        return (\n          <ImageGalleryItem\n            key={id}\n            imageSrc={webformatURL}\n            imageUrl={largeImageURL}\n            handler={onImageClick}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import styles from './Button.module.css';\n\nfunction Button({ onClickHandler }) {\n  return (\n    <button className={styles.Button} onClick={onClickHandler}>\n      Load more...\n    </button>\n  );\n}\n\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport styles from './loader.module.css';\n\nfunction SpinLoader() {\n  return (\n    <div className={styles.wrapper}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n\nexport default SpinLoader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerKeyDown);\n  }\n\n  handlerKeyDown = ({ code }) => {\n    if (code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  onOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.onOverlayClick}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\n\nimport api from './service/Api';\nimport styles from './App.module.css';\n\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Button from './Components/Button/Button';\nimport SpinLoader from './Components/Loader/Loader';\nimport Modal from './Components/Modal/Modal';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [pageNumber, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [modalSrc, setModalSrc] = useState('');\n  const [isLoading, setLoading] = useState(false);\n  const [newPageCords, setNewPageCords] = useState(0);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const scrollToNextPage = () => {\n      window.scrollTo({\n        top: newPageCords,\n        behavior: 'smooth',\n      });\n    };\n\n    const fetchData = async () => {\n      try {\n        const data = await api(query, pageNumber);\n        setImages(prevImages => [...prevImages, ...data.hits]);\n        scrollToNextPage();\n        setNewPageCords(document.documentElement.scrollHeight - 170);\n        setTotalPages(Math.ceil(data.totalHits / 12));\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [pageNumber, query]);\n\n  /*   fetchData = async () => {\n    const { query, pageNumber } = this.state;\n    try {\n      const data = await api(query, pageNumber);\n      this.setState(prevState => ({\n        images: [...prevState.images, ...data.hits],\n        isLoading: false,\n        totalPages:\n          prevState.totalPages > 0\n            ? prevState.totalPages\n            : Math.ceil(data.totalHits / 12),\n      }));\n    } catch (error) {\n      this.setState({\n        error: true,\n        isLoading: false,\n      });\n    }\n  }; */\n\n  /*   scrollToNextPage = () => {\n    const { newPageCords } = this.state;\n    window.scrollTo({\n      top: newPageCords,\n      behavior: 'smooth',\n    });\n  }; */\n\n  const onSearch = newQuery => {\n    setPage(1);\n    setTotalPages(0);\n    setQuery(newQuery);\n    setLoading(true);\n    setImages([]);\n    setNewPageCords(0);\n  };\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSearch={onSearch} />\n      {images.length > 0 && (\n        <ImageGallery\n          images={images}\n          onImageClick={({ target }) => setModalSrc(target.dataset.url)}\n        />\n      )}\n      {isLoading && <SpinLoader />}\n      {pageNumber < totalPages && <Button onClickHandler={loadMore} />}\n      {modalSrc && (\n        <Modal onCloseModal={() => setModalSrc('')}>\n          <img src={modalSrc} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}